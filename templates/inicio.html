<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DomiActas IT</title>
    <link href="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/output.css') }}">
    <link rel="shortcut icon" href="{{ url_for('static', filename='img/dominion_logo.png') }}" type="image/x-icon">
</head>
<body class="bg-gray-900 text-white">
    <main class="px-10 pt-5">
        <section class="bg-slate-800 px-5 rounded-lg mb-4 flex items-center justify-between">
            <article class="flex items-center space-x-2">
                <img src="{{ url_for('static', filename='img/dominion.svg') }}" alt="" class="w-15 h-15">
                <h1 class="border-l-2 pl-3 border-l-white text-2xl font-bold text-gray-900 dark:text-white">Generar acta de asignacion</h1>
            </article>
            <article class="space-x-2 bg-gray-900 px-5 py-3 my-2 rounded-full">
                <a href="{{ url_for('inicio') }}" class="py-1.5 px-2 text-sm font-medium cursor-pointer text-gray-900 focus:outline-none bg-white rounded-full border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">Inicio</a>
                <a href="{{ url_for('asignacion') }}" class="py-1.5 px-2 text-sm font-medium cursor-pointer text-gray-900 focus:outline-none bg-white rounded-full border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">Asignacion</a>
                <a href="{{ url_for('devolucion') }}" class="py-1.5 px-2 text-sm font-medium cursor-pointer text-gray-900 focus:outline-none bg-white rounded-full border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">Devolucion</a>
                <a href="{{ url_for('descuento') }}" class="py-1.5 px-2 text-sm font-medium cursor-pointer text-gray-900 focus:outline-none bg-white rounded-full border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">Descuento</a>
                <a href="{{ url_for('mantenimiento') }}" class="py-1.5 px-2 text-sm font-medium cursor-pointer text-gray-900 focus:outline-none bg-white rounded-full border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">Mantenimiento</a>
            </article>
        </section>
        <section class="md:flex md:gap-5">
            <article class="bg-slate-800 p-5 rounded-lg mb-6">
                <div class="mb-5">
                    <a href="{{ url_for('generar_seguimiento') }}" class="py-1.5 px-2 text-lg mb-3 font-medium cursor-pointer text-gray-900 focus:outline-none bg-white rounded border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">Descargar seguimiento de actas</a>
                </div>
                <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
                    <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
                        <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                            <tr>
                                <th scope="col" class="px-6 py-3">
                                    ID
                                </th>
                                <th scope="col" class="px-6 py-3">
                                    Cédula
                                </th>
                                <th scope="col" class="px-6 py-3">
                                    Nombre Completo
                                </th>
                                <th scope="col" class="px-6 py-3">
                                    Zona
                                </th>
                                <th scope="col" class="px-6 py-3">
                                    Formato
                                </th>
                                <th scope="col" class="px-6 py-3">
                                    Fecha
                                </th>
                                <th scope="col" class="px-6 py-3">
                                    Observaciones
                                </th>
                                <th scope="col" class="px-6 py-3">
                                    Estado
                                </th>
                                <th scope="col" class="px-6 py-3">
                                    Acciones
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for acta in actas %}
                            <tr class="odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700 border-gray-200">
                                <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                                    {{ acta[0] }}
                                </th>
                                <td class="px-6 py-4">
                                    {{ acta[1] }}
                                </td>
                                <td class="px-6 py-4">
                                    {{ acta[2] }}
                                </td>
                                <td class="px-6 py-4">
                                    {{ acta[3] }}
                                </td>
                                <td class="px-6 py-4">
                                    {{ acta[4] }}
                                </td>
                                <td class="px-6 py-4">
                                    {{ acta[5] }}
                                </td>
                                <td class="px-6 py-4">
                                    {{ acta[6] }}
                                </td>
                                <td class="px-6 py-4">
                                    <select id="estado_cargador_{{ acta[0] }}" 
                                            name="estado_cargador_{{ acta[0] }}" 
                                            data-acta-id="{{ acta[0] }}"
                                            class="bg-gray-50 border border-gray-300 text-gray-900 text-start text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full px-5 p-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                                        <option value="">Seleccione</option>
                                        <option value="PENDIENTE" {% if acta[7] == "PENDIENTE" %}selected{% endif %}>PENDIENTE</option>
                                        <option value="ENVIADO" {% if acta[7] == "ENVIADO" %}selected{% endif %}>ENVIADO</option>
                                        <option value="FIRMADO" {% if acta[7] == "FIRMADO" %}selected{% endif %}>FIRMADO</option>
                                        <option value="CARGADO" {% if acta[7] == "CARGADO" %}selected{% endif %}>CARGADO</option>
                                    </select>
                                </td>
                                <td class="px-6 py-4">
                                    <form action="{{ url_for('eliminar') }}" method="POST" style="display:inline;">
                                        <input type="hidden" name="codigo" value="{{ acta[0] }}">
                                        <button type="submit" 
                                                class="text-red-600 hover:underline" 
                                                onclick="return confirm('¿Estás seguro de que quieres eliminar esta acta?');">
                                            Eliminar
                                        </button>
                                    </form>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </article>
        </section>
    </main>
    <footer class="text-center pb-5">
        <p class="italic"><span class="font-bold">RDFelix</span> | © 2025 DomiActas IT. Casi todos los derechos reservados</p>
    </footer>
</body>
<script src="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.js"></script>
</html>